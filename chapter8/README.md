## 📍 8장 경계

### 외부 코드 사용하기

> Map 대신 제네릭스를 사용하면 코드 가독성이 크게 높아진다.

```java
// Map 사용
Map sensors = new HashMap();
Sensor s = (Sensor) sensors.get(sensorId);

// Generics 사용
// 사용자에게 필요하지 않은 기능까지 제공한다는 문제를 해결하지는 못함.
Map<String, Sensor> sensors = new Hashmap<Sensor>();
Sensor s = sensors.get(sensorId);

// Map을 더욱 깔끔하게 사용한 코드
// Map 인터페이스가 변하더라도 나머지 프로그램에는 영향을 미치지 않는다.
public class Sensors{
  private Map sensors = new HashMap();
  
  public Sensor getById(String id){
    return (Sensor) sensors.get(id);
  }
}
```

###### 캡슐화가 중요한 것이 아니라 Map (혹은 유사한 경계 인터페이스를) 여기저기 넘기지 않는 것이 더욱 중요하다.



</br>



---------



</br>

### 경계 살피고 익히기

> 학습 테스트: 외부 API를 가지고 올 경우, 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익히는 방법.



</br>



----



</br>



### 학습 테스트는 공짜 이상이다

> 학습테스트는 이해도를 높여주는 정확한 실험이다. 투자하는 노력보다 얻는 성과가 더 큰 방식이다. 





</br>



-----



</br>

### 아직 존재하지 않는 코드를 사용하기

> 아는 코드와 모르는 코드를 분리하여 인터페이스를 구현하게 되면 우리가 인터페이스를 전적으로 통제한다는 장점이 생긴다. 또한 코드 가독성도 높아지고 코드의 의도도 분명해진다. 



</br>



---



</br>



### 깨끗한 경계

> 경계에 위치하는 코드는 깔끔히 분리하고 외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자.



</br>



----



</br>



### 느낀 점

> 프로젝트를 진행하면서 외부 API를 사용해본 기억은 많지만, 책에서 말했듯 학습테스트를 해본 기억은 없다. 그냥 API 호출하고 문서에 기재되어있는 사용 방법을 따라 코드를 이해하지도 않고 필요한 것만 쏙쏙 뽑아 쓰기만 헀었다. 그래서인지 이번 챕터를 보며 더욱 많이 외닿았고, 내 코드에 대해 다시 한번 더 반성할 수 있었다. 코드를 사용하면서 점점 코드에 대해 이해하긴 헀지만, 그래도 완벽히 이해하지는 못했는데, 이제부터라도 외부 API를 가지고 올 때, 학습 테스트를 진행하면서 코드를 전반적으로 이해하도록 노력해야겠다. 